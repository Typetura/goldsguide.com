{"version":3,"sources":["goldsguide.js","typetura.js"],"names":["categoryEntries","document","querySelectorAll","entry","scrollWidth","clientWidth","parentElement","removeChild","querySelector","entryScroll","button","dir","section","closest","el","amount","offsetWidth","scrollBy","left","behavior","getParameterByName","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","addEventListener","entryHeight","offsetHeight","viewportHeight","innerHeight","topSpace","offsetTop","scrollDepth","pageYOffset","documentElement","style","setProperty","forEach","image","container","width","attributes","value","height","flex","action","success","rootElement","classList","add","subscribeButton","closeButton","remove","typetura","selectors","factory","define","amd","_arrayLikeToArray","arr","len","length","i","arr2","Array","_createForOfIteratorHelper","o","Symbol","iterator","isArray","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","_unsupportedIterableToArray","F","s","done","e","f","TypeError","it","err","normalCompletion","didErr","step","next","return","typeturize","element","ResizeObserver","entries","requestAnimationFrame","_step","_iterator","contentRect","target","observe","arguments","undefined","Promise","resolve","reject","MutationObserver","mutationsList","mutation","addedNodes","node","matches","childList","subtree","typeturaInit"],"mappings":"AACA,IAAAA,gBAAAC,SAAAC,iBAAA,qBACA,IAAAC,SAAAH,gBACAG,MAAAC,aAAAD,MAAAE,aACAF,MAAAG,cAAAC,YACAJ,MAAAG,cAAAE,cAAA,kBAMA,SAAAC,YAAAC,EAAAC,GACA,MAAAC,EAAAF,EAAAG,QAAA,mBACAC,EAAAF,EAAAJ,cAAA,qBACAO,EAAAH,EAAAJ,cAAA,UAAAQ,YAAA,GAEA,SAAAL,IACAI,IAAA,GAEAD,EAAAG,SAAA,CACAC,KAAAH,EACAI,SAAA,WAKA,IAAAhB,MAAAF,SAAAO,cAAA,iBAuCA,SAAAY,mBAAAC,EAAAC,GACAA,EAAAA,GAAAC,OAAAC,SAAAC,KACAJ,EAAAA,EAAAK,QAAA,UAAA,QAEAC,EADA,IAAAC,OAAA,OAAAP,EAAA,qBACAQ,KAAAP,GACA,OAAAK,EACAA,EAAA,GACAG,mBAAAH,EAAA,GAAAD,QAAA,MAAA,MADA,GADA,KA3CAvB,OACAoB,OAAAQ,iBACA,SACA,KACA,IAAAC,EAAA7B,MAAA8B,aACAC,EAAAX,OAAAY,YACAC,EAAAjC,MAAAkC,UACAC,EAAAf,OAAAgB,YAEAL,EAAAF,EAAAI,EAEAnC,SAAAuC,gBAAAC,MAAAC,YAAA,aADAJ,GAAAN,EAAAE,EAAAE,IAGAnC,SAAAuC,gBAAAC,MAAAC,YAAA,aAAA,KAGA,GAKA,SAAAzC,GAYAA,EAAA8B,iBAAA,mBAXA,WACA9B,EAAAC,iBAAA,yBACAyC,QAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA/B,QAAA,qBACAiC,EAAAF,EAAAG,WAAAD,MAAAE,MACAC,EAAAL,EAAAG,WAAAE,OAAAD,MAEAH,EAAAJ,MAAAS,KADAJ,EAAAG,EACA,YARA,EAaA1B,OAAAtB,WAeA,IAAAkD,OAAA/B,mBAAA,UACAgC,QAAAhC,mBAAA,WAEA,aAAA+B,QAAA,OAAAC,SAAA,SAAAA,SACAnD,SAAAoD,YAAAC,UAAAC,IAAA,qBAGA,aAAAJ,QAAA,UAAAC,SACAnD,SAAAoD,YAAAC,UAAAC,IAAA,qBAEA,IAAAC,gBAAAvD,SAAAO,cAAA,oBACAiD,YAAAxD,SAAAO,cACA,mDAGAgD,gBAAAzB,iBAAA,QAAA,IACA9B,SAAAO,cAAA,2BAAA8C,UAAAI,OAAA,MCjFAnC,OAAAoC,SAAA,CACAC,UAAA,CACA,YACA,oBACA,uBACA,oBACA,iBACA,aACA,QACA,OACA,UACA,UACA,QACA,mBACA,qBACA,qBACA,qBACA,qBACA,qBACA,uBAIA,SAAAC,GACA,mBAAAC,QAAAA,OAAAC,IAAAD,OAAAD,GAAAA,IADA,CAEA,wBAaA,SAAAG,EAAAC,EAAAC,IACA,MAAAA,GAAAA,EAAAD,EAAAE,UAAAD,EAAAD,EAAAE,QAEA,IAAA,IAAAC,EAAA,EAAAC,EAAA,IAAAC,MAAAJ,GAAAE,EAAAF,EAAAE,IAAAC,EAAAD,GAAAH,EAAAG,GAEA,OAAAC,EAGA,SAAAE,EAAAC,GACA,GAAA,oBAAAC,QAAA,MAAAD,EAAAC,OAAAC,UAAA,CACA,GAAAJ,MAAAK,QAAAH,KAAAA,EApBA,SAAAA,EAAAI,GACA,GAAAJ,EAAA,CACA,GAAA,iBAAAA,EAAA,OAAAR,EAAAQ,EAAAI,GACA,IAAAC,EAAAC,OAAAC,UAAAC,SAAAC,KAAAT,GAAAU,MAAA,GAAA,GAEA,MAAA,SADAL,EAAA,WAAAA,GAAAL,EAAAW,YAAAX,EAAAW,YAAA9D,KACAwD,IAAA,QAAAA,EAAAP,MAAAc,KAAAP,GACA,cAAAA,GAAA,2CAAAQ,KAAAR,GACAb,EAAAQ,EAAAI,QADA,GAcAU,CAAAd,IAAA,CACA,IAAAJ,EAAA,EAEAmB,EAAA,aAEA,MAAA,CACAC,EAAAD,EACAV,EAAA,WACA,OAAAT,GAAAI,EAAAL,OACA,CACAsB,MAAA,GAEA,CACAA,MAAA,EACAzC,MAAAwB,EAAAJ,OAGAsB,EAAA,SAAAA,GACA,MAAAA,GAEAC,EAAAJ,GAIA,MAAA,IAAAK,UACA,yIAIA,IAAAC,EAGAC,EAFAC,GAAA,EACAC,GAAA,EAEA,MAAA,CACAR,EAAA,WACAK,EAAArB,EAAAC,OAAAC,aAEAG,EAAA,WACA,IAAAoB,EAAAJ,EAAAK,OAEA,OADAH,EAAAE,EAAAR,KACAQ,GAEAP,EAAA,SAAAA,GACAM,GAAA,EACAF,EAAAJ,GAEAC,EAAA,WACA,IACAI,GAAA,MAAAF,EAAAM,QAAAN,EAAAM,SACA,QACA,GAAAH,EAAA,MAAAF,KAMA,SAAAM,EAAAC,QACA,IAAA9E,OAAA+E,gBACA,IAAA/E,OAAA+E,eAAA,SAAAC,GACAhF,OAAAiF,sBAAA,WACA,GAAAlC,MAAAK,QAAA4B,IAAAA,EAAApC,OAAA,CAIA,IACAsC,EADAC,EAAAnC,EAAAgC,GAGA,IACA,IAAAG,EAAAlB,MAAAiB,EAAAC,EAAA7B,KAAAY,MAAA,CACA,IAAAtF,EAAAsG,EAAAzD,MAEA7C,EAAAwG,aACAxG,EAAAyG,OAAAnE,MAAAC,YACA,YACAvC,EAAAwG,YAAA7D,QAIA,MAAAgD,GACAY,EAAAhB,EAAAI,GACA,QACAY,EAAAf,UAIAkB,QAAAR,GAmCA9E,OAAAoC,SAAApC,OAAAoC,UAAA,CACAC,UAAA,CAAA,cAhCA,WACA,IAEAA,GADA,EAAAkD,UAAA3C,aAAA4C,IAAAD,UAAA,GAAAA,UAAA,GAAA,IACAlD,WAAA,CAAA,aACA,IAAAoD,QAAA,SAAAC,EAAAC,GAEA,IAAA3F,OAAA4F,iBAOA,SAAAC,GACAA,EAAAzE,QAAA,SAAA0E,GACAA,EAAAC,WACA3E,QAAA,SAAA4E,GACAA,EAAAjE,WACAiE,EAAAC,QAAA5D,IACAwC,EAAAmB,SAZAV,QAAA5G,SAAAuC,gBAAA,CACAiF,WAAA,EACA1E,YAAA,EACA2E,SAAA,IAgBAtB,EAAAnG,SAAAuC,iBACAyE,MAOAU,CAAApG,OAAAoC","file":"goldsguide.js","sourcesContent":["// Remove category navigation components when there is no scrollable area\nvar categoryEntries = document.querySelectorAll(\".category-entries\");\nfor (entry of categoryEntries) {\n  if (entry.scrollWidth <= entry.clientWidth) {\n    entry.parentElement.removeChild(\n      entry.parentElement.querySelector(\".category-nav\")\n    );\n  }\n}\n\n// Arrow scrollers for category sections on the home page\nfunction entryScroll(button, dir) {\n  const section = button.closest(\".category-break\");\n  const el = section.querySelector(\".category-entries\");\n  var amount = section.querySelector(\".entry\").offsetWidth + 60;\n\n  if (dir === \"prev\") {\n    amount = amount * -1;\n  }\n  el.scrollBy({\n    left: amount,\n    behavior: \"smooth\",\n  });\n}\n\n// post progress bar\nvar entry = document.querySelector(\".post-content\");\nif (entry) {\n  window.addEventListener(\n    \"scroll\",\n    () => {\n      var entryHeight = entry.offsetHeight;\n      var viewportHeight = window.innerHeight;\n      var topSpace = entry.offsetTop;\n      var scrollDepth = window.pageYOffset;\n\n      if (viewportHeight < entryHeight + topSpace) {\n        var progress = scrollDepth / (entryHeight - viewportHeight + topSpace);\n        document.documentElement.style.setProperty(\"--progress\", progress);\n      } else {\n        document.documentElement.style.setProperty(\"--progress\", 0);\n      }\n    },\n    false\n  );\n}\n\n// Image gallery height normalization\n(function (window, document) {\n  var resizeImagesInGalleries = function resizeImagesInGalleries() {\n    var images = document.querySelectorAll(\".kg-gallery-image img\");\n    images.forEach(function (image) {\n      var container = image.closest(\".kg-gallery-image\");\n      var width = image.attributes.width.value;\n      var height = image.attributes.height.value;\n      var ratio = width / height;\n      container.style.flex = ratio + \" 1 0%\";\n    });\n  };\n\n  document.addEventListener(\"DOMContentLoaded\", resizeImagesInGalleries);\n})(window, document);\n\n// Membership logic\n// Parse the URL parameter\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n// Give the parameter a variable name\nvar action = getParameterByName(\"action\");\nvar success = getParameterByName(\"success\");\n\nif (action == \"subscribe\" && (success === null || success === \"true\")) {\n  document.rootElement.classList.add(\"subscribe-success\");\n}\n\nif (action == \"subscribe\" && success === \"false\") {\n  document.rootElement.classList.add(\"subscribe-failure\");\n}\nvar subscribeButton = document.querySelector(\".newsletter-join\");\nvar closeButton = document.querySelector(\n  \".subscribe-notification .subscribe-close-button\"\n);\n\nsubscribeButton.addEventListener(\"click\", (event) => {\n  document.querySelector(\".subscribe-overlay form\").classList.remove(\"\");\n});\n","/**\n * Copyright 2018-2021 Typetura LLC\n * typetura.com\n\n * typetura.js is subject to the Typetura platform license\n * https://docs.typetura.com/legal/copyright\n\n * US Patent US10769348B1\n */\n\n\"use strict\";\nwindow.typetura = {\n  selectors: [\n    \".typetura\",\n    \".primary-headline\",\n    \".primary-subheadline\",\n    \".section-headline\",\n    \".section-label\",\n    \".pullquote\",\n    \".meta\",\n    \"main\",\n    \"article\",\n    \"section\",\n    \"aside\",\n    \"[class*='block']\",\n    \".typetura-prose h1\",\n    \".typetura-prose h2\",\n    \".typetura-prose h3\",\n    \".typetura-prose h4\",\n    \".typetura-prose h5\",\n    \".typetura-prose h6\",\n  ],\n};\n\n(function (factory) {\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\n})(function () {\n  \"use strict\";\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelper(o) {\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length)\n              return {\n                done: true,\n              };\n            return {\n              done: false,\n              value: o[i++],\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F,\n        };\n      }\n\n      throw new TypeError(\n        \"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\n      );\n    }\n\n    var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n    return {\n      s: function () {\n        it = o[Symbol.iterator]();\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      },\n    };\n  }\n\n  var typeturize = function typeturize(element) {\n    if (typeof window.ResizeObserver !== \"undefined\") {\n      var resizeObserver = new window.ResizeObserver(function (entries) {\n        window.requestAnimationFrame(function () {\n          if (!Array.isArray(entries) || !entries.length) {\n            return;\n          }\n\n          var _iterator = _createForOfIteratorHelper(entries),\n            _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n              var entry = _step.value;\n\n              if (entry.contentRect) {\n                entry.target.style.setProperty(\n                  \"--tt-bind\",\n                  entry.contentRect.width\n                );\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        });\n      });\n      resizeObserver.observe(element);\n    }\n  };\n\n  var typeturaInit = function typeturaInit() {\n    var options =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var selectors = options.selectors || [\".typetura\"];\n    return new Promise(function (resolve, reject) {\n      // Look for new elements on the page that might be Typetura contexts.\n      var mutationObserver = new window.MutationObserver(mutations);\n      mutationObserver.observe(document.documentElement, {\n        childList: true,\n        attributes: false,\n        subtree: true,\n      }); // Loop through new elements and attach resize observations.\n\n      function mutations(mutationsList) {\n        mutationsList.forEach(function (mutation) {\n          var nodes = mutation.addedNodes;\n          nodes.forEach(function (node) {\n            if (node.classList) {\n              if (node.matches(selectors)) {\n                typeturize(node);\n              }\n            }\n          });\n        });\n      }\n\n      typeturize(document.documentElement); // Write typetura properties to the top of the document head to avoid cascade conflicts\n      resolve();\n    });\n  };\n\n  window.typetura = window.typetura || {\n    selectors: [\".typetura\"],\n  };\n  typeturaInit(window.typetura);\n});\n"]}