{"version":3,"sources":["goldsguide.js","typetura.js"],"names":["categoryEntries","document","querySelectorAll","i","length","entry","parentElement","removeChild","querySelector","entryScroll","button","dir","section","closest","el","amount","offsetWidth","scrollBy","left","behavior","getParameterByName","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","addEventListener","entryHeight","offsetHeight","viewportHeight","innerHeight","topSpace","offsetTop","scrollDepth","scrollY","progress","documentElement","style","setProperty","forEach","image","container","ratio","attributes","width","value","height","flex","action","success","plausible","rootElement","classList","add","subscribeButton","closeButton","remove","typetura","selectors","factory","define","amd","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelper","o","Symbol","iterator","isArray","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","_unsupportedIterableToArray","F","s","done","e","f","TypeError","it","err","normalCompletion","didErr","step","next","return","typeturize","element","ResizeObserver","entries","requestAnimationFrame","_iterator","_step","contentRect","target","observe","arguments","undefined","Promise","resolve","reject","MutationObserver","mutationsList","mutation","addedNodes","node","matches","childList","subtree","typeturaInit"],"mappings":"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","file":"/goldsguide.js","sourcesContent":["// Remove category navigation components when there is no scrollable area\nvar categoryEntries = document.querySelectorAll(\".category-entries\");\nfor (let i = 0; i < categoryEntries.length; i++) {\n  const entry = categoryEntries[i];\n  entry.parentElement.removeChild(\n    entry.parentElement.querySelector(\".category-nav\")\n  );\n}\n\n// Arrow scrollers for category sections on the home page\nfunction entryScroll(button, dir) {\n  const section = button.closest(\".category-break\");\n  const el = section.querySelector(\".category-entries\");\n  var amount = section.querySelector(\".entry\").offsetWidth + 60;\n\n  if (dir === \"prev\") {\n    amount = amount * -1;\n  }\n  el.scrollBy({\n    left: amount,\n    behavior: \"smooth\",\n  });\n}\n\n// post progress bar\nvar entry = document.querySelector(\".post-content\");\nif (entry) {\n  window.addEventListener(\n    \"scroll\",\n    () => {\n      var entryHeight = entry.offsetHeight;\n      var viewportHeight = window.innerHeight;\n      var topSpace = entry.offsetTop;\n      var scrollDepth = window.scrollY;\n\n      if (viewportHeight < entryHeight + topSpace) {\n        var progress = scrollDepth / (entryHeight - viewportHeight + topSpace);\n        document.documentElement.style.setProperty(\"--progress\", progress);\n      } else {\n        document.documentElement.style.setProperty(\"--progress\", 0);\n      }\n    },\n    false\n  );\n}\n\n// Image gallery height normalization\n(function (window, document) {\n  var resizeImagesInGalleries = function resizeImagesInGalleries() {\n    var images = document.querySelectorAll(\".kg-gallery-image img\");\n    images.forEach(function (image) {\n      var container = image.closest(\".kg-gallery-image\");\n      var width = image.attributes.width.value;\n      var height = image.attributes.height.value;\n      var ratio = width / height;\n      container.style.flex = ratio + \" 1 0%\";\n    });\n  };\n\n  document.addEventListener(\"DOMContentLoaded\", resizeImagesInGalleries);\n})(window, document);\n\n// Membership logic\n// Parse the URL parameter\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n// Give the parameter a variable name\nvar action = getParameterByName(\"action\");\nvar success = getParameterByName(\"success\");\n\nif (action == \"subscribe\" && (success === null || success === \"true\")) {\n  plausible(\"Subscribe\");\n  document.rootElement.classList.add(\"subscribe-success\");\n}\n\nif (action == \"subscribe\" && success === \"false\") {\n  document.rootElement.classList.add(\"subscribe-failure\");\n}\nvar subscribeButton = document.querySelector(\".newsletter-join\");\nvar closeButton = document.querySelector(\n  \".subscribe-notification .subscribe-close-button\"\n);\n\nsubscribeButton.addEventListener(\"click\", (event) => {\n  document.querySelector(\".subscribe-overlay form\").classList.remove(\"\");\n});\n","/**\n * Copyright 2018-2021 Typetura LLC\n * typetura.com\n\n * typetura.js is subject to the Typetura platform license\n * https://docs.typetura.com/legal/copyright\n\n * US Patent US10769348B1\n */\n\n\"use strict\";\nwindow.typetura = {\n  selectors: [\n    \".typetura\",\n    \".primary-headline\",\n    \".primary-subheadline\",\n    \".section-headline\",\n    \".section-label\",\n    \".pullquote\",\n    \".meta\",\n    \"main\",\n    \"article\",\n    \"section\",\n    \"aside\",\n    \"[class*='block']\",\n    \".typetura-prose h1\",\n    \".typetura-prose h2\",\n    \".typetura-prose h3\",\n    \".typetura-prose h4\",\n    \".typetura-prose h5\",\n    \".typetura-prose h6\",\n  ],\n};\n\n(function (factory) {\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\n})(function () {\n  \"use strict\";\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelper(o) {\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length)\n              return {\n                done: true,\n              };\n            return {\n              done: false,\n              value: o[i++],\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F,\n        };\n      }\n\n      throw new TypeError(\n        \"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\n      );\n    }\n\n    var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n    return {\n      s: function () {\n        it = o[Symbol.iterator]();\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      },\n    };\n  }\n\n  var typeturize = function typeturize(element) {\n    if (typeof window.ResizeObserver !== \"undefined\") {\n      var resizeObserver = new window.ResizeObserver(function (entries) {\n        window.requestAnimationFrame(function () {\n          if (!Array.isArray(entries) || !entries.length) {\n            return;\n          }\n\n          var _iterator = _createForOfIteratorHelper(entries),\n            _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n              var entry = _step.value;\n\n              if (entry.contentRect) {\n                entry.target.style.setProperty(\n                  \"--tt-bind\",\n                  entry.contentRect.width\n                );\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        });\n      });\n      resizeObserver.observe(element);\n    }\n  };\n\n  var typeturaInit = function typeturaInit() {\n    var options =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var selectors = options.selectors || [\".typetura\"];\n    return new Promise(function (resolve, reject) {\n      // Look for new elements on the page that might be Typetura contexts.\n      var mutationObserver = new window.MutationObserver(mutations);\n      mutationObserver.observe(document.documentElement, {\n        childList: true,\n        attributes: false,\n        subtree: true,\n      }); // Loop through new elements and attach resize observations.\n\n      function mutations(mutationsList) {\n        mutationsList.forEach(function (mutation) {\n          var nodes = mutation.addedNodes;\n          nodes.forEach(function (node) {\n            if (node.classList) {\n              if (node.matches(selectors)) {\n                typeturize(node);\n              }\n            }\n          });\n        });\n      }\n\n      typeturize(document.documentElement); // Write typetura properties to the top of the document head to avoid cascade conflicts\n      resolve();\n    });\n  };\n\n  window.typetura = window.typetura || {\n    selectors: [\".typetura\"],\n  };\n  typeturaInit(window.typetura);\n});\n"]}