{"version":3,"sources":["goldsguide.js","typetura.js"],"names":["categoryEntries","document","querySelectorAll","let","i","length","entry","parentElement","removeChild","querySelector","entryScroll","button","dir","section","closest","el","amount","offsetWidth","scrollBy","left","behavior","getParameterByName","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","addEventListener","entryHeight","offsetHeight","viewportHeight","innerHeight","topSpace","offsetTop","scrollDepth","scrollY","documentElement","style","setProperty","forEach","image","container","width","attributes","value","height","flex","action","success","subscribeButton","plausible","rootElement","classList","add","closeButton","remove","typetura","selectors","factory","define","amd","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelper","o","Symbol","iterator","F","isArray","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","s","done","e","f","TypeError","it","err","normalCompletion","didErr","step","next","return","typeturize","element","ResizeObserver","entries","requestAnimationFrame","_step","_iterator","contentRect","target","observe","arguments","undefined","Promise","resolve","reject","MutationObserver","mutationsList","mutation","addedNodes","node","matches","childList","subtree"],"mappings":"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","file":"/goldsguide.js","sourcesContent":["// Remove category navigation components when there is no scrollable area\nvar categoryEntries = document.querySelectorAll(\".category-entries\");\nfor (let i = 0; i < categoryEntries.length; i++) {\n  const entry = categoryEntries[i];\n  entry.parentElement.removeChild(\n    entry.parentElement.querySelector(\".category-nav\")\n  );\n}\n\n// Arrow scrollers for category sections on the home page\nfunction entryScroll(button, dir) {\n  const section = button.closest(\".category-break\");\n  const el = section.querySelector(\".category-entries\");\n  var amount = section.querySelector(\".entry\").offsetWidth + 60;\n\n  if (dir === \"prev\") {\n    amount = amount * -1;\n  }\n  el.scrollBy({\n    left: amount,\n    behavior: \"smooth\",\n  });\n}\n\n// post progress bar\nvar entry = document.querySelector(\".post-content\");\nif (entry) {\n  window.addEventListener(\n    \"scroll\",\n    () => {\n      var entryHeight = entry.offsetHeight;\n      var viewportHeight = window.innerHeight;\n      var topSpace = entry.offsetTop;\n      var scrollDepth = window.scrollY;\n\n      if (viewportHeight < entryHeight + topSpace) {\n        var progress = scrollDepth / (entryHeight - viewportHeight + topSpace);\n        document.documentElement.style.setProperty(\"--progress\", progress);\n      } else {\n        document.documentElement.style.setProperty(\"--progress\", 0);\n      }\n    },\n    false\n  );\n}\n\n// Image gallery height normalization\n(function (window, document) {\n  var resizeImagesInGalleries = function resizeImagesInGalleries() {\n    var images = document.querySelectorAll(\".kg-gallery-image img\");\n    images.forEach(function (image) {\n      var container = image.closest(\".kg-gallery-image\");\n      var width = image.attributes.width.value;\n      var height = image.attributes.height.value;\n      var ratio = width / height;\n      container.style.flex = ratio + \" 1 0%\";\n    });\n  };\n\n  document.addEventListener(\"DOMContentLoaded\", resizeImagesInGalleries);\n})(window, document);\n\n// Membership logic\n// Parse the URL parameter\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n// Give the parameter a variable name\nvar action = getParameterByName(\"action\");\nvar success = getParameterByName(\"success\");\n\nif (action == \"subscribe\" && (success === null || success === \"true\")) {\n  plausible(\"Subscribe\");\n  document.rootElement.classList.add(\"subscribe-success\");\n}\n\nif (action == \"subscribe\" && success === \"false\") {\n  document.rootElement.classList.add(\"subscribe-failure\");\n}\nvar subscribeButton = document.querySelector(\".newsletter-join\");\nvar closeButton = document.querySelector(\n  \".subscribe-notification .subscribe-close-button\"\n);\n\nsubscribeButton.addEventListener(\"click\", (event) => {\n  document.querySelector(\".subscribe-overlay form\").classList.remove(\"\");\n});\n","/**\n * Copyright 2018-2021 Typetura LLC\n * typetura.com\n\n * typetura.js is subject to the Typetura platform license\n * https://docs.typetura.com/legal/copyright\n\n * US Patent US10769348B1\n */\n\n\"use strict\";\nwindow.typetura = {\n  selectors: [\n    \".typetura\",\n    \".primary-headline\",\n    \".primary-subheadline\",\n    \".section-headline\",\n    \".section-label\",\n    \".pullquote\",\n    \".meta\",\n    \"main\",\n    \"article\",\n    \"section\",\n    \"aside\",\n    \"[class*='block']\",\n    \".typetura-prose h1\",\n    \".typetura-prose h2\",\n    \".typetura-prose h3\",\n    \".typetura-prose h4\",\n    \".typetura-prose h5\",\n    \".typetura-prose h6\",\n  ],\n};\n\n(function (factory) {\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\n})(function () {\n  \"use strict\";\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelper(o) {\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length)\n              return {\n                done: true,\n              };\n            return {\n              done: false,\n              value: o[i++],\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F,\n        };\n      }\n\n      throw new TypeError(\n        \"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\n      );\n    }\n\n    var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n    return {\n      s: function () {\n        it = o[Symbol.iterator]();\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      },\n    };\n  }\n\n  var typeturize = function typeturize(element) {\n    if (typeof window.ResizeObserver !== \"undefined\") {\n      var resizeObserver = new window.ResizeObserver(function (entries) {\n        window.requestAnimationFrame(function () {\n          if (!Array.isArray(entries) || !entries.length) {\n            return;\n          }\n\n          var _iterator = _createForOfIteratorHelper(entries),\n            _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n              var entry = _step.value;\n\n              if (entry.contentRect) {\n                entry.target.style.setProperty(\n                  \"--tt-bind\",\n                  entry.contentRect.width\n                );\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        });\n      });\n      resizeObserver.observe(element);\n    }\n  };\n\n  var typeturaInit = function typeturaInit() {\n    var options =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var selectors = options.selectors || [\".typetura\"];\n    return new Promise(function (resolve, reject) {\n      // Look for new elements on the page that might be Typetura contexts.\n      var mutationObserver = new window.MutationObserver(mutations);\n      mutationObserver.observe(document.documentElement, {\n        childList: true,\n        attributes: false,\n        subtree: true,\n      }); // Loop through new elements and attach resize observations.\n\n      function mutations(mutationsList) {\n        mutationsList.forEach(function (mutation) {\n          var nodes = mutation.addedNodes;\n          nodes.forEach(function (node) {\n            if (node.classList) {\n              if (node.matches(selectors)) {\n                typeturize(node);\n              }\n            }\n          });\n        });\n      }\n\n      typeturize(document.documentElement); // Write typetura properties to the top of the document head to avoid cascade conflicts\n      resolve();\n    });\n  };\n\n  window.typetura = window.typetura || {\n    selectors: [\".typetura\"],\n  };\n  typeturaInit(window.typetura);\n});\n"]}